{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block styles %}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Inter:wght@300;400;500;600&display=swap');

  :root {
    --serif-font: 'Playfair Display', serif;
    --sans-font: 'Inter', sans-serif;
  }

  /* Premium animations and transitions */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes floatIn {
    from {
      opacity: 0;
      transform: translateY(50px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-60px);
    }

    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes glow {

    0%,
    100% {
      box-shadow: 0 10px 40px rgba(50, 147, 236, 0.15);
    }

    50% {
      box-shadow: 0 10px 60px rgba(234, 60, 67, 0.2);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }

    100% {
      background-position: 1000px 0;
    }
  }

  body {
    font-family: var(--sans-font);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--serif-font);
    letter-spacing: -1px;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    height: 500px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--pacil-blue-darker-2) 0%, var(--pacil-blue-darker-1) 100%);
  }

  .hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('{% static "images/banner2.jpg" %}') center/cover;
    opacity: 0.3;
    z-index: 1;
  }

  /* Smooth transition from hero to content */
  .hero-section::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(to bottom, transparent 0%, #FFFFFF 100%);
    z-index: 4;
    pointer-events: none;
  }

  .hero-content {
    position: relative;
    z-index: 3;
    text-align: center;
    color: white;
    animation: fadeInUp 1s ease-out;
  }

  .hero-content h1 {
    font-size: 4.5rem;
    font-weight: 700;
    margin: 0 0 20px 0;
    letter-spacing: -2px;
    line-height: 1.1;
    text-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }

  .hero-content p {
    font-size: 1.3rem;
    font-weight: 300;
    margin: 0;
    opacity: 0.95;
    letter-spacing: 0.5px;
    animation: fadeInUp 1s ease-out 0.2s both;
  }

  /* Section Styling */
  .premium-section {
    padding: 50px 20px;
    position: relative;
    overflow: hidden;
  }

  /* Gradient Definitions */
  .gradient-blue-top {
    background: linear-gradient(180deg, #FFFFFF 0%, #E5F1FB 100%);
  }

  .gradient-blue-bottom {
    background: linear-gradient(180deg, #E5F1FB 0%, #FFFFFF 100%);
  }

  .gradient-red-top {
    background: linear-gradient(180deg, #FFFFFF 0%, #FFE4E6 100%);
  }

  .gradient-red-bottom {
    background: linear-gradient(180deg, #FFE4E6 0%, #FFFFFF 100%);
  }

  .section-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 60px;
    text-align: center;
    color: var(--pacil-blue-darker-2);
    animation: fadeInUp 0.8s ease-out;
    letter-spacing: -1px;
  }

  .section-subtitle {
    font-size: 1.1rem;
    color: var(--neutral-700);
    line-height: 1.8;
    max-width: 600px;
    margin-bottom: 40px;
    animation: fadeInUp 0.8s ease-out 0.1s both;
  }

  /* About Section */
  .about-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    animation: slideInLeft 1s ease-out;
  }

  .about-content h2 {
    font-size: 3rem;
    margin-bottom: 30px;
    color: var(--pacil-blue-darker-2);
    letter-spacing: -1px;
  }

  .about-image {
    position: relative;
  }

  .about-image img {
    width: 100%;
    border-radius: 20px;
    /* box-shadow: 0 30px 60px rgba(34, 98, 158, 0.2); */
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .about-image img:hover {
    transform: scale(1.05);
    box-shadow: none;
  }

  .about-image::before {
    content: '';
    position: absolute;
    inset: -10px;
    background: linear-gradient(135deg, var(--pacil-blue-lighter-1), var(--pacil-red-lighter-1));
    border-radius: 20px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .about-image:hover::before {
    opacity: 0.2;
  }

  /* Schedule Cards */
  .schedule-container {
    display: flex;
    gap: 30px;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 30px 0;
    max-width: 1200px;
    margin: 0 auto;
  }

  .schedule-container::-webkit-scrollbar {
    height: 6px;
  }

  .schedule-container::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 10px;
  }

  .schedule-container::-webkit-scrollbar-thumb {
    background: var(--pacil-blue-lighter-1);
    border-radius: 10px;
  }

  .schedule-card {
    flex-shrink: 0;
    width: 300px;
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
    border: 1px solid rgba(50, 147, 236, 0.1);
    animation: floatIn 0.6s ease-out;
  }

  .schedule-card:nth-child(2) {
    animation-delay: 0.1s;
  }

  .schedule-card:nth-child(3) {
    animation-delay: 0.2s;
  }

  .schedule-card:nth-child(4) {
    animation-delay: 0.3s;
  }

  .schedule-card:hover {
    transform: translateY(-20px) scale(1.02);
    box-shadow: 0 40px 80px rgba(50, 147, 236, 0.25);
    /* border-color: var(--pacil-blue-base); */
  }

  .schedule-card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    transition: transform 0.5s ease;
  }

  .schedule-card:hover img {
    transform: scale(1.1);
  }

  .schedule-info {
    padding: 30px;
  }

  .schedule-info h3 {
    font-size: 1.3rem;
    margin: 0 0 15px 0;
    color: var(--pacil-blue-darker-2);
  }

  .schedule-category {
    font-size: 0.85rem;
    color: var(--pacil-red-base);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-weight: 600;
    margin-bottom: 15px;
  }

  .schedule-details {
    font-size: 0.95rem;
    color: var(--neutral-700);
    line-height: 1.8;
  }

  /* CTA Section */
  .cta-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
  }

  .cta-content h2 {
    font-size: 3rem;
    margin-bottom: 30px;
    color: var(--pacil-blue-darker-2);
    letter-spacing: -1px;
  }

  .cta-text {
    font-size: 1.1rem;
    color: var(--neutral-700);
    line-height: 1.8;
    margin-bottom: 40px;
  }

  .premium-btn {
    display: inline-block;
    padding: 16px 40px;
    background: linear-gradient(135deg, var(--pacil-red-base), var(--pacil-red-darker-1));
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.4s ease;
    box-shadow: 0 10px 30px rgba(234, 60, 67, 0.2);
    letter-spacing: 0.5px;
  }

  .premium-btn:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 50px rgba(234, 60, 67, 0.35);
  }

  .premium-btn:active {
    transform: translateY(-2px);
  }

  .cta-image {
    position: relative;
  }

  .cta-image img {
    width: 100%;
    border-radius: 20px;
    /* box-shadow: 0 30px 60px rgba(234, 60, 67, 0.15); */
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .cta-image img:hover {
    transform: scale(1.05);
    box-shadow: none;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero-section {
      height: 350px;
    }

    .hero-content h1 {
      font-size: 2.5rem;
    }

    .hero-content p {
      font-size: 1.1rem;
    }

    .section-title {
      font-size: 2.5rem;
      margin-bottom: 40px;
    }

    .about-container,
    .cta-container {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .about-content h2,
    .cta-content h2 {
      font-size: 2rem;
    }

    .schedule-card {
      width: 280px;
    }

    .premium-section {
      padding: 50px 20px;
    }
  }
</style>
{% endblock %}

{% block content %}
<!-- HERO SECTION -->
<section class="hero-section">
  <div class="hero-content">
    <h1>Selamat Datang di Oliminate</h1>
    <p>Temukan dan beli tiket pertandingan favoritmu dengan pengalaman premium</p>
  </div>
</section>

<!-- ABOUT SECTION -->
<section class="premium-section gradient-blue-top">
  <div class="about-container">
    <div class="about-content" style="text-align: right;">
      <h2>Tentang Kami</h2>
      <p class="section-subtitle">
        Oliminate adalah platform revolusioner yang dirancang untuk memberikan pengalaman terbaik dalam mengelola
        perlombaan dan membeli tiket. Dengan teknologi terkini dan desain yang elegan, kami menghadirkan solusi
        komprehensif untuk event organizer dan penggemar olahraga.
      </p>
      <p class="section-subtitle">
        Produk ini dibuat oleh <span style="font-weight: 600; color: var(--pacil-red-base);">Kelompok C08</span> dengan
        misi memberdayakan industri event kompetisi di seluruh Indonesia.
      </p>
    </div>
    <div class="about-image">
      <img src="{% static 'images/gambar1.png' %}?v=2" alt="Tentang Kami">
    </div>
  </div>
</section>

<!-- SCHEDULE SECTION -->
<section class="premium-section gradient-blue-bottom">
  <h2 class="section-title">Pertandingan Mendatang</h2>
  <div class="schedule-container" id="jadwal-terdekat">
    {% if schedules %}
    {% for schedule in schedules %}
    <div class="schedule-card">
      {% if schedule.image_url %}
      <img src="{{ schedule.image_url }}" alt="{{ schedule.category }}">
      {% else %}
      <div
        style="background: linear-gradient(135deg, var(--pacil-blue-lighter-2), var(--pacil-red-lighter-2)); height: 160px; display: flex; align-items: center; justify-content: center;">
        <span style="color: white; font-size: 0.9rem;">No Image</span>
      </div>
      {% endif %}
      <div class="schedule-info">
        <h3>{{ schedule.team1 }} vs {{ schedule.team2 }}</h3>
        <div class="schedule-category">{{ schedule.category }}</div>
        <div class="schedule-details">
          üìÖ {{ schedule.date|date:"d M Y" }}<br>
          üïí {{ schedule.time|time:"H:i" }}<br>
          üìç {{ schedule.location }}
        </div>
      </div>
    </div>
    {% endfor %}
    {% else %}
    <p style="color: var(--neutral-700); font-size: 1.1rem;">Belum ada jadwal upcoming.</p>
    {% endif %}
  </div>
</section>

<!-- CTA: TICKET SECTION -->
<section class="premium-section gradient-red-top" style="padding-bottom: 0;">
  <div class="cta-container">
    <div class="cta-content" style="text-align: right;">
      <h2>Dapatkan Tiketmu Sekarang</h2>
      <p class="cta-text">
        Jangan lewatkan kesempatan untuk menyaksikan pertandingan spektakuler. Pesan tiketmu hari ini dan rasakan
        pengalaman live yang tak terlupakan.
      </p>
      <a href="{% url 'ticket_list' %}" class="premium-btn">üéü Jelajahi Tiket</a>
    </div>
    <div class="cta-image">
      <img src="{% static 'images/gambar3.png' %}?v=2" alt="Beli Tiket">
    </div>
  </div>
</section>

<!-- CTA: REVIEW SECTION -->
<section class="premium-section gradient-red-bottom" style="padding-top: 0; padding-bottom: 120px;">
  <div class="cta-container">
    <div class="cta-image">
      <img src="{% static 'images/gambar4.png' %}?v=2" alt="Lihat Review">
    </div>
    <div class="cta-content">
      <h2>Pengalaman Penonton Lain</h2>
      <p class="cta-text">
        Baca ulasan autentik dari pengunjung event kami. Dapatkan insight berharga sebelum menghadiri pertandingan
        berikutnya dan bergabunglah dengan komunitas kami.
      </p>
      <a href="{% url 'review_landing' %}" class="premium-btn">‚≠ê Baca Review</a>
    </div>
  </div>
</section>

<!-- AJAX Script -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
  $(document).ready(function () {
    function loadSchedules() {
      $.ajax({
        url: "{% url 'get_schedules_json' %}",
        method: "GET",
        success: function (data) {
          var container = $("#jadwal-terdekat");
          container.empty();

          if (data.length === 0) {
            container.append('<p style="color: var(--neutral-700); font-size: 1.1rem;">Belum ada jadwal upcoming.</p>');
            return;
          }

          data.slice(0, 10).forEach(function (schedule, index) {
            var imageContent;
            if (schedule.image_url) {
              imageContent = `<img src="${schedule.image_url}" alt="${schedule.category}">`;
            } else {
              imageContent = `
                            <div style="background: linear-gradient(135deg, var(--pacil-blue-lighter-2), var(--pacil-red-lighter-2)); height: 160px; display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 0.9rem;">No Image</span>
                            </div>
                        `;
            }

            var scheduleCard = `
                <div class="schedule-card" style="animation-delay: ${index * 0.1}s;">
                  ${imageContent}
                  <div class="schedule-info">
                    <h3>${schedule.team1} vs ${schedule.team2}</h3>
                    <div class="schedule-category">${schedule.category}</div>
                    <div class="schedule-details">
                      üìÖ ${new Date(schedule.date).toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' })}<br />
                        üïí ${schedule.time.slice(0, 5)}<br />
                          üìç ${schedule.location}
                        </div>
                    </div>
                  </div>
                    `;
            container.append(scheduleCard);
          });
        },
        error: function () {
          console.error("Gagal mengambil jadwal!");
        }
      });
    }
    loadSchedules();
  });
</script>

{% endblock %}