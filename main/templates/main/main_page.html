{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<div class="w-full min-h-screen bg-gradient-to-b from-[#73B9F9] to-white">

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 overflow-x-clip">
        
        <header class="text-center">
            <h1 class="text-6xl font-semibold text-[#22629E]">
                Welcome to Oliminate!
            </h1>
        </header>

        <main class="mt-12">
            <section class="bg-white shadow-lg rounded-xl p-8 max-w-3xl mx-auto my-12">
                <h3 class="text-3xl font-semibold text-center">What is OLIMINATE?</h3>
                <p class="text-lg text-left mt-4">
                    Oliminate is an application designed to help event organizers manage competitions efficiently and in an integrated manner. This product was created by the C08 Group with the aim of simplifying competition event management, from scheduling and ticket sales to the live and online viewing experience.
                </p>
            </section>

            <section class="my-16">
                <h2 class="text-4xl font-semibold text-[#22629E] text-center mb-8">
                    Our Competitions
                </h2>

                <div class="carousel-container relative w-full max-w-6xl mx-auto overflow-hidden" id="competition-carousel">
                    <div class="carousel-track flex flex-nowrap transition-transform duration-500 ease-in-out">
                        
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Valorant</h4>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Tennis</h4>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Futsal</h4>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Badminton</h4>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Chess</h4>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <h4 class="text-2xl font-semibold">Basketball</h4>
                            </div>
                        </div>
                        
                    </div>
                    <button class="carousel-button prev absolute top-1/2 -translate-y-1/2 left-0 -translate-x-4 bg-white border border-gray-300 rounded-full w-11 h-11 cursor-pointer z-10 flex items-center justify-center shadow-md hover:bg-gray-100">
                        <i class="fa-solid fa-chevron-left text-gray-700"></i>
                    </button>
                    <button class="carousel-button next absolute top-1/2 -translate-y-1/2 right-0 translate-x-4 bg-white border border-gray-300 rounded-full w-11 h-11 cursor-pointer z-10 flex items-center justify-center shadow-md hover:bg-gray-100">
                        <i class="fa-solid fa-chevron-right text-gray-700"></i>
                    </button>
                </div>
            </section>

            <section class="my-16">
                <h2 class="text-4xl font-semibold text-[#22629E] text-center mb-8">
                    Upcoming Schedule
                </h2>

                <div class="carousel-container relative w-full max-w-6xl mx-auto overflow-hidden" id="schedule-carousel">
                    <div class="carousel-track flex flex-nowrap transition-transform duration-500 ease-in-out">
                        
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <p>18.00 - 19.30</p>
                                <p>21-11-2024</p>
                                <h4 class="text-2xl font-semibold my-1">BASKET</h4>
                                <p>FT vs FKM</p>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <p>18.30 - 22.00</p>
                                <p>24-10-2024</p>
                                <h4 class="text-2xl font-semibold my-1">VALORANT</h4>
                                <p>FPSI vs FKM</p>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <p>19.30 - 20.30</p>
                                <p>22-11-2024</p>
                                <h4 class="text-2xl font-semibold my-1">TENIS LAPANGAN</h4>
                                <p>FK vs FASILKOM</p>
                            </div>
                        </div>
                        <div class="carousel-slide basis-1/3 shrink-0 grow-0 p-4">
                            <div class="carousel-card bg-white shadow-md rounded-lg text-black p-6 min-h-[150px] flex flex-col justify-center items-center">
                                <p>19.30 - 21.15</p>
                                <p>20-11-2024</p>
                                <h4 class="text-2xl font-semibold my-1">BASKET</h4>
                                <p>FKG vs FT</p>
                            </div>
                        </div>

                    </div>
                    <button class="carousel-button prev absolute top-1/2 -translate-y-1/2 left-0 -translate-x-4 bg-white border border-gray-300 rounded-full w-11 h-11 cursor-pointer z-10 flex items-center justify-center shadow-md hover:bg-gray-100">
                        <i class="fa-solid fa-chevron-left text-gray-700"></i>
                    </button>
                    <button class="carousel-button next absolute top-1/2 -translate-y-1/2 right-0 translate-x-4 bg-white border border-gray-300 rounded-full w-11 h-11 cursor-pointer z-10 flex items-center justify-center shadow-md hover:bg-gray-100">
                        <i class="fa-solid fa-chevron-right text-gray-700"></i>
                    </button>
                </div>
            </section>

            <section class="text-center my-16">
                <h3 class="text-3xl font-semibold mb-6">Explore More!</h3>
                
                {% if user.is_authenticated %}
                    <a href="#" class="inline-block py-3 px-7 rounded-xl font-medium text-xl bg-[#3293ec] text-white shadow-lg hover:bg-[#22629E] hover:shadow-xl transform transition-all duration-300 hover:-translate-y-0.5">
                        My Profile
                    </a>
                {% else %}
                    <a href="#" class="inline-block py-3 px-7 rounded-xl font-medium text-xl bg-[#3293ec] text-white shadow-lg hover:bg-[#22629E] hover:shadow-xl transform transition-all duration-300 hover:-translate-y-0.5">
                        Sign me UP!
                    </a>
                {% endif %}
            </section>

        </main>
    </div>
</div>
{% endblock %}


{% block scripts %}
<script>
    window.addEventListener('load', () => {
        function setupCarousel(containerId, intervalTime = 3000) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const track = container.querySelector('.carousel-track');
            const slides = container.querySelectorAll('.carousel-slide'); 
            const prevBtn = container.querySelector('.carousel-button.prev');
            const nextBtn = container.querySelector('.carousel-button.next');
            
            if (slides.length === 0) return; 

            let currentIndex = 0;
            const cardWidth = slides[0].offsetWidth;
            const visibleCards = 3;
            
            if (cardWidth === 0) {
                console.error(`Carousel (${containerId}) setup failed: cardWidth is 0.`);
                return;
            }

            const maxIndex = Math.max(0, slides.length - visibleCards);

            let autoSlideInterval = null;

            function slideNext() {
                currentIndex++;
                if (currentIndex > maxIndex) {
                    currentIndex = 0;
                }
                updateTrackPosition();
            }

            function slidePrev() {
                currentIndex--;
                if (currentIndex < 0) {
                    currentIndex = maxIndex;
                }
                updateTrackPosition();
            }

            function updateTrackPosition() {
                track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
            }

            function startAutoSlide() {
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                }
                autoSlideInterval = setInterval(slideNext, intervalTime);
            }

            function stopAutoSlide() {
                clearInterval(autoSlideInterval);
                autoSlideInterval = null;
            }

            nextBtn.addEventListener('click', () => {
                if (autoSlideInterval) stopAutoSlide();
                slideNext();
            });

            prevBtn.addEventListener('click', () => {
                if (autoSlideInterval) stopAutoSlide();
                slidePrev();
            });

            if (maxIndex > 0) {
                startAutoSlide();
            }
        }

        setupCarousel('competition-carousel', 3000);
        setupCarousel('schedule-carousel', 3500);
    });
</script>
{% endblock %}