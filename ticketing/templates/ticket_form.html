{% extends 'base.html' %}
{% load static %}
{% block title %}Beli Tiket{% endblock %}

{% block content %}
<div class="container mx-auto mt-8 px-4">

  <div class="max-w-xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
    
    <form method="POST" class="p-6 md:p-8">
      {% csrf_token %}

      <h1 class="h3 mb-6">Form Pembelian Tiket</h1>

      <div class="mb-5">
        <label for="{{ form.schedule.id_for_label }}" class="block body mb-2" style="font-weight: var(--font-semibold);">
          Pilih Event/Jadwal
        </label>
        {{ form.schedule }}
        {% if form.schedule.errors %}
          <p class="footnote" style="color: var(--pacil-red-base); margin-top: 4px;">
            {{ form.schedule.errors|striptags }}
          </p>
        {% endif %}
      </div>

      <div class="mb-5">
        <label for="{{ form.price.id_for_label }}" class="block body mb-2" style="font-weight: var(--font-semibold);">
          Harga
        </label>
        {{ form.price }}
        {% if form.price.errors %}
          <p class="footnote" style="color: var(--pacil-red-base); margin-top: 4px;">
            {{ form.price.errors|striptags }}
          </p>
        {% endif %}
      </div>

      <div class="mb-6">
        <label class="block body mb-3" style="font-weight: var(--font-semibold);">
          Metode Pembayaran
        </label>
        <div class="space-y-3">
          {% for radio in form.payment_method %}
          <label for="{{ radio.id_for_label }}" class="flex items-center p-4 rounded-lg border border-gray-200 has-[:checked]:bg-blue-50 has-[:checked]:border-blue-400 cursor-pointer transition-all">
            {{ radio.tag }} <span class="ml-3 block body" style="color: var(--neutral-900);">
              {{ radio.choice_label }}
            </span>
          </label>
          {% endfor %}
        </div>
        {% if form.payment_method.errors %}
          <p class="footnote" style="color: var(--pacil-red-base); margin-top: 4px;">
            {{ form.payment_method.errors|striptags }}
          </p>
        {% endif %}
      </div>

      <div class="border-t border-gray-100 pt-6 mt-6">
        <div class="flex flex-col md:flex-row gap-4">
          <button type="submit" class="btn btn-primary w-full md:w-auto">
            Lanjut ke Pembayaran
          </button>
          <a href="{% url 'ticket_list' %}" class="btn btn-outline w-full md:w-auto text-center" style="text-decoration: none;">
            Batal
          </a>
        </div>
      </div>

    </form>
  </div>
</div>
{% endblock %}