{% extends "base.html" %}
{% load static %}

{% block title %}Profile — Oliminate{% endblock %}

{% block content %}
<div class="container" style="padding:36px 0;">
  <div class="card" style="display:flex; gap:28px; align-items:flex-start; border-radius:16px; padding:28px;">
    <!-- LEFT: Avatar (preview only, no edit button) -->
    <div style="width:220px; display:flex; flex-direction:column; align-items:center; gap:12px;">
      <div id="avatarWrap" style="width:160px; height:160px; border-radius:999px; overflow:hidden; background:var(--pacil-blue-lighter-3); display:flex; align-items:center; justify-content:center;">
        {% if user_obj.foto %}
          <img id="avatarImg" src="{{ user_obj.foto.url }}" alt="Foto profil" style="width:100%; height:100%; object-fit:cover; display:block;">
        {% else %}
          <img id="avatarImg" alt="Foto profil" style="width:100%; height:100%; object-fit:cover; display:block;"
               src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><rect width='100%' height='100%' fill='%23E5F1FB'/><circle cx='80' cy='60' r='34' fill='%23AED4F7' /><rect x='32' y='100' rx='8' width='96' height='26' fill='%23AED4F7' /></svg>">
        {% endif %}
      </div>

      <p class="small" style="text-align:center; margin:0;">{{ user_obj.fakultas|default:"-" }}</p>
    </div>

    <!-- RIGHT: Preview-only form-like layout -->
    <div style="flex:1;">
      <h3 class="h3" style="margin-top:0;">Profile</h3>

      <div style="margin-bottom:14px;">
        <label class="caption">Name</label>
        <div class="body" style="height:44px; padding:10px 12px; border-radius:10px; border:1px solid var(--neutral-100); display:flex; align-items:center;">{{ user_obj.name }}</div>
      </div>

      <div style="margin-bottom:14px;">
        <label class="caption">Email</label>
        <div class="body" style="height:44px; padding:10px 12px; border-radius:10px; border:1px solid var(--neutral-100); display:flex; align-items:center;">{{ user_obj.email }}</div>
      </div>

      <div style="margin-bottom:14px;">
        <label class="caption">Faculty</label>
        <div class="body" style="height:44px; padding:10px 12px; border-radius:10px; border:1px solid var(--neutral-100); display:flex; align-items:center;">{{ user_obj.fakultas|default:"-" }}</div>
      </div>

      <!-- password should not be shown; optionally show a placeholder -->
      <div style="margin-bottom:18px;">
        <label class="caption">Password</label>
        <div class="body" style="height:44px; padding:10px 12px; border-radius:10px; border:1px solid var(--neutral-100); display:flex; align-items:center;">••••••••</div>
      </div>

      <div style="display:flex; justify-content:flex-end; gap:12px; margin-top:8px;">
        <!-- button navigasi ke halaman edit -->
            <button id="editProfileBtn" class="btn btn-primary bg-blue-600 hover:bg-[#13165c]-700 text-white font-medium py-2 px-4 rounded">
                Edit Profile
            </button>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('editProfileBtn').addEventListener('click', function() {
    window.location.href = "{% url 'users:edit_profile' %}";
  });
</script>
{% endblock %}
