{% extends 'base.html' %}
{% block title %}Merchandise{% endblock %}

{% block content %}
<div class="container mt-2">
    <div class="flex justify-between items-center mb-6">
        <h1 class="h3">Daftar Merchandise</h1>
        <a href="{% url 'merchandise:merchandise_create' %}" class="btn btn-primary">+ Tambah Produk</a>
    </div>

    {% if merchandises %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" style="margin-top: 1rem;">
        {% for merchandise in merchandises %}
        <div class="card merchandise-card flex flex-col" style="margin:0; display:flex; flex-direction:column; overflow:hidden; border-radius:12px; background:white;">
            {% if merchandise.image_url %}
            <img src="{{ merchandise.image_url }}" alt="{{ merchandise.category }}" style="width:100%; height:200px; object-fit:cover; border-radius:12px 12px 0 0;">
            {% else %}
            <div style="background-color:var(--neutral-100); height:200px; display:flex; align-items:center; justify-content:center;">
                <span class="footnote">No Image</span>
            </div>
            {% endif %}

            <div style="padding:0 16px 16px 16px;">
                <a href="{% url 'merchandise:merchandise_detail' merchandise.id %}" class="btn btn-outline w-full">Detail</a>
                {% if user.is_authenticated and user == merchandise.organizer %}
                <div class="flex gap-2 mt-2">
                    <a href="{% url 'merchandise:merchandise_update' merchandise.id %}" class="btn btn-primary flex-1">Edit</a>
                    <a href="{% url 'merchandise:merchandise_delete' merchandise.id %}" class="btn btn-danger flex-1">Delete</a>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="card">
        <p class="body">Belum ada merchandise yang tersedia.</p>
    </div>
    {% endif %}
</div>

<style>
.container > .grid {
    display: grid;
    gap: 1rem;
}

.card {
    margin: 0;
    display: block;
}

.merchandise-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    transition: all 0.25s ease;
}

</style>
{% endblock %}